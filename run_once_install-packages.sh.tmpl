#!/bin/sh

# Install Homebrew
if ! command -v brew &> /dev/null
then
    echo "brew could not be found, installing now"
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    exit
fi

{{ if eq .chezmoi.os "linux" -}}

sudo apt update
sudo apt install -y ack fzf git grep htop tmux tree zsh
sudo apt upgrade

/home/linuxbrew/.linuxbrew/bin/brew install starship k9s go neovim

{{ else if eq .chezmoi.os "darwin" -}}

brew install ack chezmoi fzf git git-delta grep htop mosh neovim starship tmux tree zsh
$(brew --prefix)/opt/fzf/install

{{ end -}}

# Install oh my zsh
if [ ! -d "$HOME/.oh-my-zsh" ] 
then
    echo "Oh-My-Zsh is not installed, installing now" 
    git clone https://github.com/ohmyzsh/ohmyzsh.git $HOME/.oh-my-zsh
    chsh -s $(which zsh)
fi
